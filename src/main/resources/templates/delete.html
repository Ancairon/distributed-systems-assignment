<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">
  <title>delete</title>
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
  <link href="https://getbootstrap.com/docs/4.0/examples/signin/signin.css" rel="stylesheet" crossorigin="anonymous"/>
</head>
<body>
<div class="container">
  <form class="form-signin">
    <h2 class="form-signin-heading">Enter the User's ID to delete his account</h2>

    <p>
      <label for="id_number" class="sr-only">ID Number</label>
      <input type="password" id="id_number" name="ID Number" class="form-control" placeholder="Id Number"
             required>
    </p>

    <button class="btn btn-lg btn-primary btn-block" id="sendRequest" type="submit">Delete</button>
  </form>


  <form class="form-signin" method="get" action="/admin">
    <button class="btn btn-lg btn-secondary btn-block" type="submit">Back</button>
  </form>
</div>

</body>
</html>

<script>


  window.addEventListener('load', (event) => {
    document.getElementById('sendRequest').addEventListener('click', (event) => {

      const user = {
        'idNumber': document.getElementById('id_number').value,
        'password': null,
        'active': null,
        'role': null,
        'username': null


      };


      const xhr = new XMLHttpRequest();
      xhr.open('POST', 'http://localhost:8080/users/delete', true);
      xhr.setRequestHeader('Content-type', 'application/json');
      xhr.send(JSON.stringify(user));
      xhr.onreadystatechange = function () {
        if (xhr.readyState === 4) {
          if (xhr.status === 200) {
            alert("registered!");
          }
        }
      };

    });
  });

</script>